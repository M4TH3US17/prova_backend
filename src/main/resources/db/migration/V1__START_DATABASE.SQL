CREATE TABLE carros (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    ano        INT                             NOT NULL EXTRACT(YEAR FROM CURRENT_DATE),
    cor        VARCHAR(255)                    NOT NULL,
    nome       VARCHAR(255)                    NOT NULL,
    modelo     VARCHAR(255)                    NOT NULL,
    km         INT                             NOT NULL DEFAULT 0,
    tipo       VARCHAR(255)                    NOT NULL,
    marca      VARCHAR(255)                    NOT NULL,
    reservado  BOOLEAN                         NOT NULL,
    disabled   BOOLEAN                         NOT NULL,
    url_imagem VARCHAR(255),
    preco      DECIMAL(10, 2)                  NOT NULL,

   CONSTRAINT pk_carro             PRIMARY KEY (id),
   CONSTRAINT uc_carro_nome        UNIQUE (marca)
);
CREATE TABLE marcas (
 id    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
 marca VARCHAR(255)                            NOT NULL,

 CONSTRAINT pk_marca            PRIMARY KEY (id),
 CONSTRAINT uc_marca_nome       UNIQUE (marca)
);

CREATE TABLE usuarios (
 id    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
 login VARCHAR(255)                            NOT NULL,
 senha VARCHAR(255)                            NOT NULL,
 role  VARCHAR(60)                             NOT NULL  CHECK (role IN ('ROLE_ADMIN', 'ROLE_USER')),

 CONSTRAINT pk_usuario             PRIMARY KEY (id),
 CONSTRAINT uc_usuario_login       UNIQUE (login)
);